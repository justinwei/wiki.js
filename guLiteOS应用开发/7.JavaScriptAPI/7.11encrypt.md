| 模块 | 描述 | 函数名 | 参数 | 返回 | 例子 |
| :----: | :----: | :----: | :----: | :----: | :----: |
| gu_encrypt | 初始化加密方法 | createHash | 类别，支持"md5" | 加密方法句柄 | var md5 = gu_encrypt.createHash("md5");|
| gu_encrypt | 更新数据 | update | 1.加密方法句柄，2.字符串 3. 输入编码，4.输出编码，编码支持md5,base64,hex 三类 | 无 | gu_encrypt.update(md5, "hello world", "", "");|
| gu_encrypt | 获取加密结果 | digest |加密方法句柄，返回类别（支持hex)| 加密后字符串 | gu_encrypt.digest(md5, "hex")|
| gu_encrypt | 初始化加密方法 | createCipheriv | 类别：支持 1. “aes-128-cbc”, "aes-256-cbc" key加密key  iv, 2. hmac-sha1,hmac-sha256| 加密方法句柄 | var cipher = gu_encrypt.createCipheriv("aes-128-cbc", key, iv);|
| gu_encrypt | 初始化解密方法 | createDecipheriv | 类别：支持 1. “aes-128-cbc”, "aes-256-cbc" key加密key  iv, 2. hmac-sha1,hmac-sha256| 解密方法句柄 | var cipher = gu_encrypt.createCipheriv("aes-128-cbc", key, iv);|
| gu_encrypt | 初始化cbc加密结束 | final |加密方法句柄 |  |  gu_encrypt.final(cipher, "");|
| gu_encrypt | 编码,编码支持md5,base64,hex 三类 | encodeBuff |1. 编码(md5,base64,hex)，2.输出,必须是buff格式 |  |  gu_encrypt.encodeBuff("base64", abuff)|
| gu_encrypt | 计算密钥函数，它根据算法类型、摘要算法、salt 以及输入数据计算出一个对称密钥和初始化向量iv | EVP_BytesToKey |1.key_len 2.block_size 3.salt 4.data 5.count | key和IV的json,值用hex表示 |  var keyIV = gu_encrypt.EVP_BytesToKey(32, 16，null, "password", 1);|
| gu_encrypt | rsa256签名 | rsa256_sign |1. 数据，2.私钥 3.编码（base64） |  |  gu_encrypt.rsa256_sign(data, testPrivateKey, "base64")|
| gu_encrypt | rsa256验证 | rsa256_verify |1. 数据，2.签名 3.公钥 4.编码（base64） | true/false |  gu_encrypt.rsa256_verify(data, signature, testPublicKey, "base64");|

例子1，md5加密
```
 var md5 = gu_encrypt.createHash("md5");
 gu_encrypt.update(md5, "hello world");
 console.log("hello word's MD5 value=", gu_encrypt.digest(md5, "hex"))
```

例子2，aes-128-cbc 输出 base64
```
    var key = "751f621ea5c8f930";
    var iv = "2624750004598718";
    var data = "Hello, nodejs.";
    var cipher = gu_encrypt.createCipheriv("aes-128-cbc", key, iv);
    var str = gu_encrypt.update(cipher, data, "utf8", "base64")
    console.log("test_aes_128_cbc=", str)
    gu_encrypt.final(cipher, "")

打印值:
RU5mya7k9jPvdVsGiRK0WA==
```

例子3，aes-128-cbc 输出 hex
```
    var key = "751f621ea5c8f930";
    var iv = "2624750004598718";
    var data = "Hello, nodejs.";
    var cipher = gu_encrypt.createCipheriv("aes-128-cbc", key, iv);
    var str = gu_encrypt.update(cipher, data, "utf8", "hex")
    console.log("test_aes_128_cbc=", str)
    gu_encrypt.final(cipher, "")
打印值:
454e66c9aee4f633ef755b068912b458
```


例子4，hmac-sha1. 输入utf8 输出 原始值
```
        var key = "751f621ea5c8f930";
        var data = "Hello, nodejs.";
        var cipher = gu_encrypt.createCipheriv("hmac-sha1", key);
        var str = gu_encrypt.update(cipher, data, "utf8", "hex")
        console.log("hmac-sha1=", str)
        gu_encrypt.final(cipher, "")        
打印值:
0b881554eaed10d7b03cde3e36d7af7f6c40e568
```

例子5，编码 hex，base64，md5
```
        var abuff = Buffer.from('helloworld');
        console.log(gu_encrypt.encodeBuff("base64", abuff))  
```

例子6，hmac-sha256,输入utf8 输出原始值
```
var key = "751f621ea5c8f930";
        var data = "Hello, nodejs.";
        var cipher = gu_encrypt.createCipheriv("hmac-sha256", key);
        var str = gu_encrypt.update(cipher, data, "utf8", "hex")
        console.log("hmac-sha256=", str)
        gu_encrypt.final(cipher, "")        
打印值:
02af6ab993de36c4ca29c1c96422e79173a785ca4ea7502e022ee12299df49ae
```

例子7，rsa256 签名和验证
```
  var signature = gu_encrypt.rsa256_sign(data, testPrivateKey, "base64");
   console.log("RSA signature:", signature);
   // Verify the signature
   var isValid = gu_encrypt.rsa256_verify(data, signature, testPublicKey, "base64");
  console.log("Signature verification:", isValid);
```

例子8，AES/CBC/PKCS5Padding解密
```
        var fs = require('fs');
        var data = fs.readFileSync("/fatfs/lyric.txt");
        var keyIV = gu_encrypt.EVP_BytesToKey(32, 16, null, "password", 1)
        var keyAndIV = JSON.parse(keyIV)
        key_buff = Buffer(keyAndIV.key, "hex")
        iv_buff = Buffer(keyAndIV.iv, "hex")
        var cipher = gu_encrypt.createDecipheriv("aes-256-cbc", key_buff, iv_buff);
        if (cipher == undefined) {
            console.log("cipher is undefined")
            return
        }
        data_buff = Buffer(data.toString(), "hex")
        var str = gu_encrypt.update(cipher, data_buff, "", "")
        console.log("aes-256-cbc=", str)
        gu_encrypt.final(cipher, "")        
```
lyric.txt内容如下
```
a163640510ecb09a65bb5c91faeeb5800b03041c72485785ce070bfd249fb4823d0d2321809ed8cb214ca391c99fae668874eff6113216a66f46ca20c9f530053cd336f353f8a5a83aa75ec4fcc09f9cd6752ded570c843607d3a6c670a803a7d253e3d42dad78984a191e0a0a0c1cfec7e833339bea27853478314c1725302dc382bfe795895f80cc813c3e2023b3c60fe3d0002cee2c5704dab97d4e3303e7c9c526040d253ff04f271cca79e365cc5458da99b52d1c6d80ba021b2eb3de4aff32a7df44c52d287dd0678c817a921ecc20c2b1c88df2ba7eea9d8a3fe1edb5df81071932fcda71346f7b9eeb5712dccfb89b9988a1c4d6ceadb0620ca209d32e39fe5b1ef7ef06fd540187dc3fcb18d8155efadb8ec2e8fec222ffa9bd9ccebed33646296db09513a58167f283c8cd3ca1d978ff89b163432f4c6df36a3736afc5174642456a9d21eb471afdd386770549fcfb0e4c96050156e84360fa8ef4adb11106faccf260925cd12a6055ec6772bff68cf6460af3a94f6baa0b052e6b0dcc0d4a8da9653e0014d600b9b4f00e41ce006715ef20ed3aaaa5e72697d58211bb4acc56e5f10f6a35d878b9084fd02133cb3731b8ecf7b824023001f5231fa5debca6a4068467c4913fc2f2319741bbf914716c0a52dfe5fe874a04acbf0bb97d66a0a5cdbd532a0409cc2e540876f6a41fb035da97fbc3ca3a4f2544734d48af64ca2026345a2d0c7477a510a6cf8c9d175b5c81affa60efa0ce29957a502e072a865a350694065a34610d91e48cd72e322a6639ecba3687cb10b72d59f2e16bf72cb30aab74a56dc92dd28a50e544c539fce51d5852f7209adc99485ba3203c9929a0ca550d9dc20a6fd801f68075414eeca8d8d7ff7427d9ed65fc7ddf1b049e24946d9d6d60fc46d5abd35953a938012cd1eb1c153dbe533000d41826b639d25015e6c8392fc8f2c3a98eb432b24245fa23776f05fe27659b55d683f6f78d330b4971970abe3d868a8d9b52971db3218e3d1349a7476b36af1b7a0a2b6c02b5a11cc3622240d825d59408ead9e160430e98c1546d2eeaed8824cdc2e4e67024b6f77c732cd55576fe5ec410883da9f99d48b7c30673670b4093d707c52a29da12e846a2d073a72749b16e46947cc994cc041c1791663f46b9567ddaf39bac546c9b751667fd8c92424a5f2ba4ce7acfa6ce8b75d3a2d9ae0c5130980990a1d1e547005fab17f9bfcceb0e027eda7ee3a93cbb1f162178d7ed31e89e60e9eb9a2d1eaa5956917dfbed002bb878e1407c97a8c08efb472b7f5b3a2850b92badd7fe075d041390fab8dbf4d3c925ca0a4e2e436ecd2a6df041267bc7de41a726c4761cb9b7ef691f2075246e28a863c03fee01bf8d2b83e497ab5d91e3be525cd04f367bf30d017a98ad497eed47c667c694ea2b4312531bcfec6bd7a09c04012b752fb5b06b7acd7cec952c61d93a7941fb12cb20cba4cb44f4bacf441286fb67168536f337747d1b9c86cf3b91bcd8657303019cbb1f960700d9f233b80da7c728af7f8cd96235cba5d6a640a3e9bb2785334a73e40c9097eeb4352fd4daca84249c74dc384eefeb3205341ec6b74d9836f94ba17432200b08ddf6a5b22b1f8c8562d3df6e7f399f6923c41e19d20c60136767b7d0013a758be50ca06d1adfbfc62c25cabc42ef5d2507d21894a5521f000e07a12b552061e561a8d3f9c955ea642e004bfd394e268fd3304e966152d6bce568a8d38c49902acda87b9da20a6a49228c6a0a6ad327698c7862c1d4f9953c19379951b5315291f15930c5334b0f088c63b9eecf10ed455fcaa8ac02207201b8637c4f62029ceb31216bc500107816f7a3094c609583204889882c50218ec8ea9bacd920822ff42690e841d55eaed926798c9943219c67f1f4f806ebfd362285d73fa2f2b96ca2265232f17458554ddee3a1461f2695e5e5d71658079efd510cbeab12cf19d262e4a75ad1509f7e70887308ff89d3a6a3e056c859cd1fd7953150bb6d49bc30c8c8282547c00c9a00f3781146010dd77ca0fd938d228457374fbc10f7ba0cc7f5f68653612709688650a126013488d7237082d3240970246f5880453df676dc1ddf98d5b3d52058e04a2b59fae46148949f7afa14b94fb2c3105961a4c845bec9c47942fde9fbe2ba896a538ebc542b6197b89c86dc3d5f683ca4ee169714c8e61016aac53cbae69778234eb33635f5521cfdaca49c3985e43e9954b4c55b26b5e211e46c524a6d0bc0d5e65e045e9b82e9c1565cd0c2f3fcba25af2b8c72fb4ac22b6226a186c783c527b924a52bced8022c5081b35c366564edd5ff146e3edac22d6665d0615d2eac7fd343184a8a04022b5a6ccafce08a2c49cc08746d3d4a40522925f8cbe6d3d0125ceb7d508263d2a95cffbf6e94bc6559b87a164000153853c73a019ac8b55ee29862a5b337777a8bfd1569b28c72f2e6e7900293eb8bbd2ac0d187e397802fd84d7e5aea7683b544040d11035f2789b4af0993be52c69359bcb7a7f1fd4525e12b371ac9912f2f3fa0d70836a10ee6498c3a9a074c517dd49b71238a86872a2b48ff2e20b465144c7aedd32878893f62bbe84e2012f107d81be3a3be1b5ae1d1061b3e6a102a8a5fd1914d601b7a379d89d26772e2ffde1df892c70046883ae439989e0d01669ccd24e89e3596b4f4dd056d9a07fc4d2de6760b89fb789d9bb89bc338ca29bc6a62affe27c355e70cc2e222aa86c802fea1d9d06bf464ad7cdad3fef7dc873f3c95f33f5d1470ddea15842022a40a7af44b79062a892a142a33d3cdb89dbfb7ae5552148e042a73de46658832b0364937eccba4ff62f6edfbcaa3050d3c64330b9103b52052695cbe4d31a0335a316ef3118b430aeb589de1bd9a506d86b3d4251e056c92d3e5d84d91bf0f0b97b79aa94a639b44d7292264ab120952a6abc35efc931d0992315d60e6569a17e82411f1541ee1369217215d99d9ea0f286f8c1ac273457aaf78988f07d71254a6c1353502c309df10be17e8b4a89845cf6f69dc6c5101e46a25153a8698b2695f66678717fbe1d072f8e62d81bf320d716b075be3ec4a302986d8ea1d11bd0284b66ef6090f8392fa21bff595ca0079f6933ff37b0f36b7d597f9e4fbee7d5c1a83bde86a649071ce3242b22ad59314603cbe863eb9d2581ba7bb9c29b51b9911ead4c22a3a5d89af0f41de9752e9ec38e5b061d6a942b767151d232b90f75fa00b7e0f015d33e673454e998ddbe6f4217f86e2bba72644924098aaacc2769142150a2feae3f789dad9d49d25ec09b99d591c36e4f7334169ac4d7f54288ab443b63cb411f65c9b2c96f758c2dc461a62866ba60aa4066d7ecf4f03ce3d046205e3bece68dc114bf76c56250eff0786c9f1d11a1d76d5d82259dcc9342b396bd0a1d34f44b92d33510588d226116d2d6fc6152b7ccdb5476c62d65df11e9059055b3d1e573b25fb6bf75444faf57c2497628646fd9c132815c16c59ecb6858443c08cfd0f2ce14177cee6520511a1285b783d453b7f466eb18272fe539993818174af7f11582108550ba8d65e6c317adad4c566f95882e4324ea70579891b9b0d27efb481467218467b1684d184030586db5ab5c982b19bfe31f2f2a60ba8955d072b7dcfa4934408ec9f95c1df07de2debcbf801c44a0b10a911a482046dad1c082d3438d4a6ba7586cefac755989dcec3cf07ea4ec404be8c46e0df088770b3ecc125c99f60ce5b2d617b8b77e5a9df6f50616756af360ebaa9010d714381344fc61c37af250a2324adf3bddcc50b635e6e6b8b77f6fd4a9f421cf441b8c89d60a4456762f55a274f088869fba47ccf3d24767089dd3f9fbf9c5fd53e02698a85009c0297b32c381c12fca7013eaa20325651fc9f166162baeb545b634dd38ecc11af92b422c7aa2b1f895b1558ad05d509da2eb779fdd9973baacd1a0a5568d81d04fb37eab955884e93784632df02a26dca7cd573dea0e665ac7c176936ab9492460885ac8d9d77a7ca5d7763069e3393645991e29b04f27c7cb0e0df14bd58bb832c630156d5077726d5989794691849a8b1d810bab307f98c65b6db3d5868118571f1c039594112321923f4bd14b027c59fe8d656179beaee62fc2d22f7ff942494b29e4d9fee7bb7d0106ee5018b1b17f0ba843052aaf18782a43d152f8df76cde04838cd34ddd6dfcaac01b3f8a36bf8cacb2b00abafcc3eda3c8978ad5ebabb3e1459840c73f2be719ed321c8e2f68bf94fc3b4ec0b5cff238436bb9813d503e80f44b0b6205859c424580357f189af8c8c439b83774b8b9f51c890c18f3dd65105605a6ccd288d087a90259a5c9765e84590fd47b694c8dccb7afc9b12cd45b1bc8620133ae31431b8c21734a150e70a37e941ffbf85eba3ce4e560dec22504da09656298f87a6808e0d22f40a19f90fbdcb1dd9169798995a9c7a6da7046f82f998987ac24e444d6bdc9512dd9d85cf06f9003549f85055b1cbf9818edb9a745e45cfdf4c059131134e133f186b9cfd9dada7976be096449fe4bb75b9054aa7251d454180f663a140999452e1dbc52bb18556bdcf46cbbf1516ef299ad76b27929f4ddd3f2c8afe419a4c36bac966e08ec59632135bbabd759f456c5fc9d100e7c63d0964984a28e6f4db52562fd04c8bf6a2a6964051374da7d499e8e330201a7affb2e749541222232eca5144c8aa868ff0088bd1c588018446d41712cb29fca94580e0927268b3c5df6550e5cc1ca48852d369b2c4fd1d525781ccb14a9137b416ec525ffa56d5c1837bd6e4d3b011ad807ea53fc2c9bb136e50fc1df326b82ed4166f853da9d64e24066b9bbe355ff5277f82dfe4c7cac5b3f7ded3325f9b1283832860be956a22ed7ded3e53401ff67a763245d165ce49d06101a74dc75b2b61a1438d7edc8e37421eb0f9cd111431b91f27148c577148f3fc970ee65276cb20c4bf5560aec4197bd02703118a9eb09d03dca1a97aa288c952b718c895d2f3a67edfab25f85fa3bd9326b6a217414fd065b3b3eebb788140be8fc273aa818b5e2d7cdc4d33cb9770dd3a41d39b83788c512fbcaf9c9a53b66f3d6e4f9f978e4c3c9128472fe56de3aca5a1f8795398a782267362f8eaec8c12bd5aa7f9d5d61cde5c5afb35a4aad1435658ad2d7ba8e08e0f63d7771956bd473ee7de1e5f92b9e099429bcd3a1b697a758272235f6d48449e39be934d5e9e5a52f1acc74f0eb9406de98ac9c1f937c1ac71ec0c897853495f1eeaccff1582f5d22756efc3e837fabc4183df9bc0e3be7d6f7771914867e3a209d60b2028bded72f61c466c5```
