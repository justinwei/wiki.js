#### 目的
找出引擎可能存在的内存泄漏

#### 原理
建立了内存使用hash表
1. 内存申请时，hash表，记录此处内存申请代码所在的c文件名和行数
2. 内存释放时，删除链表对应的结点。

完成监控时，查询hash表有哪些内存没有被释放。

#### 使用方法：
##### 前置条件：
1. 需要调试内存泄漏，至少需要SDK 250K以上的内存
2. 在引擎编译时，配置memory config->debug mem leak monitor 打开
3. 添加以下串口命令：

* 开通页面切换监控命令  gulite open_page_static
```
set_page_mem_leak_monitor(true);  
```

* 关闭页面切换监控命令   gulite close_page_static
```
set_page_mem_leak_monitor(false);    
```

* 开通APP切换监控命令 gulite open_app_static
```
set_app_static_mode(true);    
```
* 关闭APP切换监控命令 gulite clsoe_app_static
```
set_app_static_mode(false);    
```

##### 1. 查看页面切换是否有内存泄漏
使用打开页面切换命令 ```gulite open_page_static```
切换切换时，会打印出可能有问题的泄漏，如下图



##### 2. 查看APP切换是否有内存泄漏
使用打开页面切换命令 ```gulite open_app_static```
切换切换时，会打印出可能有问题的泄漏，如下图

##### 3. 查看指定代码是否有内存泄漏

c语言
```
//启动监控
 mem_leak_start_monitor("监控名称"); 

//统计监控
mem_leak_monitor_statics("监控名称");        

```

js代码
```
//启动监控
gu_ui.mem_leak_start("监控名称")
//统计监控
gu_ui.mem_leak_statics("监控名称")     

```

