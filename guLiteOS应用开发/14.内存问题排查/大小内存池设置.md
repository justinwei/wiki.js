#### 目的
解决内存碎片问题

#### 原理
内存池分成大小两个内存池
当申请小块内存时，使用小内存池
当申请大块内存时，使用大内存池

#### 使用方法：
在SDK的 main.c 启动引擎前，设置两个内存池的大小,代码如下
```
    mem_pool_config_t config;
    //设置大小2块内存池
    config.mem_pool_cnt = 2;    
    //大内存池的大小为 2400K, 大于0 小于20K的内存放在该内存池
    //小内存池的大小为 800K, 大于20K的内存放在该内存池
    mem_pool_t mem_pool_array[2] ={
        {2400 * 1024UL, NULL, NULL, 0, 20 * 1024UL},
        {800 * 1024UL, NULL, NULL, 20 * 1024UL, 1000 * 1024UL},
    };
    config.mem_pool = mem_pool_array;
    //计算总内存
    func_cb.mem_conf.mem_size = 0;
    for(int i=0; i < 2; i++){
        func_cb.mem_conf.mem_size += mem_pool_array[i].pool_size;
    }    
    //将内存池配置设置到内存模块
    realize_unit_mem_set_pool_config(&config);
```


查看内存使用情况和碎片情况

使用串口命令 gulite mem_statis

![图片](../../image/0bfe872b-63ea-4068-be00-514936824e09.png)




