## 一、模块介绍

接入第三方模块，进行数据透传

## 二、api

**1、transparent.createTransparent(funcName,[callback])**

创建transparent的函数,返回一个模块对象curr_Transparent,每个同名模块只能创建一次

- funcName: 模块名
- callback：可选，回调函数, 返回err错误信息，当err为null时表示打开成功,不为null时代表创建失败
- 返回值: 模块对象
- 例子:

```js
var curr_Transparent = transparent.createTransparent('test1', function(err) {
    if (err) throw err;
  });
```

**2、curr_Transparent.set(option)**

传入一个对象，转换为字符串透传到sdk层

- option：对象,成员自己定义
- 返回值：失败: -1 成功: 0
- 例子：

```js
var set_option = {
    name:"zhangsan",
    age:18
};
curr_Transparent.set(set_option);
```

**3、curr_Transparent.get(option)**

获取sdk的数据

- option：对象,成员自己定义
- 返回值：成功: json格式的字符串  失败: null

- 例子:

```js
var get_option = {
    name:"lisi",
    age:24
};
curr_Transparent.get(get_option);
//返回值：
//'{\"name\":\"zhangsan\",\"age\":18}'
```

**4、curr_Transparent.destroy()**

销毁模块

- 返回值：失败: -1 成功: 0


## 三、事件

当模块主动发送数据时会触发事件

```js
curr_Transparent.on('msg_coming',function(data) {
    console.log('func data: :', data);
});
```

- data:模块发送的字符串

## 四、例子

```js
var transparent = require('transparent');

var set_option = {
    name:"zhangsan",
    age:18
};

var get_option = {
    name:"lisi",
    age:24
};

var curr_Transparent = transparent.createTransparent('test1', function(err) {
    if (err) throw err;
  });
var curr_Transparent2 = transparent.createTransparent('test2', function(err) {
    if (err) throw err;
  });

curr_Transparent.on('msg_coming',function(data) {
    console.log('SDK data1: :', data);
});

function get(option) {
    ret =  curr_Transparent.get(option);
    console.log("get info1:",ret);
}

function set(option){
    curr_Transparent.set(option);
    console.log("set info1:",option);
}

function destroy(){
    curr_Transparent.destroy();
}

curr_Transparent2.on('msg_coming',function(data) {
    console.log('SDK data2:', data);
});

function get2(option) {
    ret =  curr_Transparent2.get(option);
    console.log("get info2:",ret);
}

function set2(option){
    curr_Transparent2.set(option);
    console.log("set info2:",option);
}

function destroy2(){
    curr_Transparent2.destroy();
}
var test = function(obj1,obj2) {
    set(obj1);
    get(obj2);

    set2(obj2)
    get2(obj1);

    set(obj2)
    get(obj1)

    set2(obj1)
    get2(obj2);
    
    setTimeout(destroy, 4 * 1000);
    setTimeout(destroy2, 4 * 1000);

}
test(set_option,get_option);
```

