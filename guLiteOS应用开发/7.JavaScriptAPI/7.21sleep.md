### 一、模块介绍

屏幕睡眠管理模块

### 二、api

#### 1、sleep.init()

初始化sleep模块，返回一个对象

#### 2、slp.setSleepParams(option)

设置屏幕睡眠管理的参数, 用户更新自动熄屏、关机时间、屏幕亮度时，需要调用该接口通知引擎

* option: 一个对象，有以下成员：
  * auto_power_off_time：自动关机时间, 单位ms，默认0xffffffff(不自动关机)
  * auto_screen_off_time：自动熄屏时间, 单位ms, 默认0xffffffff(不自动熄屏)
  * screen_off_brightness：熄屏值，0~100， 默认0
  * screen_on_brightness：屏幕亮度，0~100，默认100
  * light_sleep_time：不需要可不填或者填0，单位ms
  * deep_sleep_time: 不需要可不填或者填0， 单位ms

#### 3、slp.getScreenState()

获取当前屏幕状态

* 返回值：int，0表示当前处于熄屏状态，1表示当前处于亮屏状态

#### 4、slp.setScreenState(state)

设置屏幕状态，熄屏或者亮屏

* state: string, "screen on"表示亮屏，"screen off"表示熄屏

#### 三、事件

#### state

监听屏幕状态改变(熄屏、亮屏)

```js
slp.on("state", function (str) {
    console.log(str);
});
//screen on 亮屏
//screen off 熄屏
```



### 四、例子

```js
var sleep = require('sleep');

slp = sleep.init();

var option = {
    auto_power_off_time: 180000,
    auto_screen_off_time: 2000,
    screen_off_brightness: 0,
    screen_on_brightness: 1000,
}

slp.setSleepParams(option);

slp.on("state", function (str) {
    console.log(str);
});

//设置亮屏
slp.setScreenState('screen on');

//设置熄屏
slp.setScreenState('screen off');

function on () {
    console.log("going to on");
    slp.setScreenState('screen on')
}
function off () {
    console.log("going to off");
    slp.setScreenState('screen off')
}
setTimeout(on, 1 * 200);
setTimeout(on, 1 * 800);
setTimeout(off, 1 * 500);
var stat = slp.getScreenState();


```